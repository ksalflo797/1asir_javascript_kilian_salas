<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preguntas y Respuestas</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<h1>Preguntas</h1>

<div id="preguntas-container"></div>

<button id="verificar">Enviar</button>
<p id="resultado"></p>

<script>

var DatosPreguntas = {
  "preguntas": [
    {
      "pregunta": "¿Cuál es la capital de España?",
      "opciones": ["Burgos", "Madrid", "Cádiz"],
      "respuesta_correcta": "Madrid"
    },
    {
      "pregunta": "¿Cuál es la capital de París?",
      "opciones": ["Berna", "Paris", "Ottawa"],
      "respuesta_correcta": "Paris"
    },
    {
      "pregunta": "¿Cuál es la capital de alemania?",
      "opciones": ["Berlín", "Pretoria", "Durango"],
      "respuesta_correcta": "Berlín"
    }
  ]
};


function CargarPreguntas() {
  var container = $("#preguntas-container");

  DatosPreguntas.preguntas.forEach(function(pregunta, index) {
    var divPregunta = $("<div>");
    divPregunta.append("<p>" + pregunta.pregunta + "</p>");

    pregunta.opciones.forEach(function(opcion) {
      var input = $("<input>").attr({ type: "radio", name: "pregunta" + index, value: opcion });
      var label = $("<label>").text(opcion);
      divPregunta.append(input, label, "<br>");
    });

    container.append(divPregunta);
  });
}

// Función para verificar las respuestas
function verificarRespuestas() {
  var numPreguntas = DatosPreguntas.preguntas.length;
  var numRespuestasCorrectas = 0;
  var preguntasIncorrectas = [];

  DatosPreguntas.preguntas.forEach(function(pregunta, index) {
    var respuestaSeleccionada = $("input[name='pregunta" + index + "']:checked").val();
    if (respuestaSeleccionada === pregunta.respuesta_correcta) {
      numRespuestasCorrectas++;
    } else {
      preguntasIncorrectas.push({ pregunta: pregunta.pregunta, respuesta_correcta: pregunta.respuesta_correcta });
    }
  });

  var resultado = "Has acertado " + numRespuestasCorrectas + " de " + numPreguntas + " preguntas.";

  if (preguntasIncorrectas.length > 0) {
    resultado += "<br>Preguntas incorrectas:";
    preguntasIncorrectas.forEach(function(pregunta) {
      resultado += "<br>- " + pregunta.pregunta + ". Respuesta correcta: " + pregunta.respuesta_correcta;
    });
  }

  $("#resultado").html(resultado);
}

$(document).ready(function() {
  CargarPreguntas();
  $("#verificar").click(verificarRespuestas);
});
</script>

</body>
</html>